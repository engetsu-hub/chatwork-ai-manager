# ChatWork AI Manager

ChatWork APIã¨é€£æºã—ãŸAIé§†å‹•ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç›£è¦–ãƒ»ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

![ChatWork AI Manager](docs/screenshot.png)

## ğŸš€ æ©Ÿèƒ½

### ğŸ¯ ã‚³ã‚¢æ©Ÿèƒ½
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç›£è¦–**: æŒ‡å®šã—ãŸãƒ«ãƒ¼ãƒ ã®æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è‡ªå‹•ç›£è¦–
- **AIåˆ†æã‚¨ãƒ³ã‚¸ãƒ³**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ã‚¿ã‚¹ã‚¯æŠ½å‡ºã€è³ªå•æ¤œå‡ºã€å„ªå…ˆåº¦åˆ¤å®š
- **ã‚¹ãƒãƒ¼ãƒˆã‚¢ãƒ©ãƒ¼ãƒˆ**: æœªè¿”ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§å¯è¦–åŒ–
- **ã‚¿ã‚¹ã‚¯ç®¡ç†**: æŠ½å‡ºã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’ã‚¢ãƒ—ãƒªå†…ã§ç®¡ç†ï¼ˆChatWorkã¸ã®è‡ªå‹•æŠ•ç¨¿ãªã—ï¼‰
- **éåŒæœŸå‡¦ç†**: é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãªä¸¦è¡Œå‡¦ç†

### ğŸ–¥ï¸ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **Web Dashboard**: ãƒ¢ãƒ€ãƒ³ãªWebãƒ™ãƒ¼ã‚¹ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- **ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒª**: Electronè£½ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- **REST API**: å¤–éƒ¨é€£æºç”¨ã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- **WebSocket**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°

### ğŸ¤– AIåˆ†ææ©Ÿèƒ½
- **ã‚¿ã‚¹ã‚¯æ¤œå‡º**: ä¾é ¼ãƒ»ä½œæ¥­ãƒ»ç¢ºèªç³»ã®æ–‡è¨€ã‚’è‡ªå‹•è­˜åˆ¥
- **å„ªå…ˆåº¦åˆ¤å®š**: ç·Šæ€¥ãƒ»é€šå¸¸ãƒ»ä½å„ªå…ˆåº¦ã®è‡ªå‹•åˆ†é¡
- **æœŸé™æŠ½å‡º**: ã€Œæ˜æ—¥ã¾ã§ã€ã€Œæ¥é€±ã€ç­‰ã®æœŸé™è¡¨ç¾ã‚’è§£æ
- **æ„Ÿæƒ…åˆ†æ**: ãƒã‚¸ãƒ†ã‚£ãƒ–ãƒ»ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒ»ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã®åˆ¤å®š
- **è¿”ä¿¡å¿…è¦æ€§**: ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ãƒ»è³ªå•ãƒ»ã‚¿ã‚¹ã‚¯ã®æœ‰ç„¡ã§è‡ªå‹•åˆ¤å®š

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å¿…è¦ç’°å¢ƒ
- Python 3.8+
- Node.js 18+ (ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªç”¨)
- ChatWork APIãƒˆãƒ¼ã‚¯ãƒ³

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/USERNAME/chatwork-ai-manager.git
cd chatwork-ai-manager
```

### 2. Pythonä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install -r requirements.txt
```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
cp .env.example .env
```

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã€ã‚ãªãŸã®ChatWork APIãƒˆãƒ¼ã‚¯ãƒ³ã¨ãƒ«ãƒ¼ãƒ IDã‚’è¨­å®šï¼š
```env
CHATWORK_API_TOKEN=your_actual_chatwork_api_token
MONITORED_ROOMS=your_room_id1,your_room_id2
```

**æ³¨æ„**: å®Ÿéš›ã®APIãƒˆãƒ¼ã‚¯ãƒ³ã‚„ãƒ«ãƒ¼ãƒ IDã¯çµ¶å¯¾ã«Gitã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã§ãã ã•ã„ã€‚

### 4. èµ·å‹•æ–¹æ³•

#### Webç‰ˆï¼ˆæ¨å¥¨ï¼‰
```bash
# FastAPIã‚µãƒ¼ãƒãƒ¼èµ·å‹•
python -m uvicorn web.api_server:app --host 127.0.0.1 --port 8000

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://127.0.0.1:8000 ã«ã‚¢ã‚¯ã‚»ã‚¹
```

#### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªç‰ˆ
```bash
cd desktop
npm install
npm start
```

## ğŸ® ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

1. **ChatWork APIãƒˆãƒ¼ã‚¯ãƒ³ã®å–å¾—**
   - ChatWorkã«ãƒ­ã‚°ã‚¤ãƒ³ â†’ å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ â†’ APIè¨­å®š
   - æ–°ã—ã„APIãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½œæˆ

2. **ç›£è¦–å¯¾è±¡ãƒ«ãƒ¼ãƒ ã®è¨­å®š**
   - ãƒ«ãƒ¼ãƒ IDã‚’`.env`ã®`MONITORED_ROOMS`ã«è¨­å®š
   - è¤‡æ•°ãƒ«ãƒ¼ãƒ ã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§æŒ‡å®š

3. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•**
   - Webç‰ˆã¾ãŸã¯ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚’èµ·å‹•
   - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–çŠ¶æ³ã‚’ç¢ºèª

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½

#### ğŸ“Š ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰
- ç›£è¦–ä¸­ãƒ«ãƒ¼ãƒ æ•°
- å‡¦ç†æ¸ˆã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°
- æœªå‡¦ç†ã‚¢ãƒ©ãƒ¼ãƒˆæ•°
- é«˜å„ªå…ˆåº¦ã‚¢ãƒ©ãƒ¼ãƒˆæ•°

#### ğŸ”” ã‚¢ãƒ©ãƒ¼ãƒˆç®¡ç†
- æœªè¿”ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸€è¦§è¡¨ç¤º
- å„ªå…ˆåº¦åˆ¥ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- è¿”ä¿¡æ¸ˆã¿ãƒãƒ¼ã‚¯æ©Ÿèƒ½
- å¼·åˆ¶ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ

#### ğŸ’¬ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é–²è¦§
- ãƒ«ãƒ¼ãƒ åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- é€ä¿¡è€…ãƒ»æ™‚åˆ»æƒ…å ±

#### ğŸ§  åˆ†æãƒ„ãƒ¼ãƒ«
- ä»»æ„ãƒ†ã‚­ã‚¹ãƒˆã®åˆ†æãƒ†ã‚¹ãƒˆ
- ã‚¿ã‚¹ã‚¯ãƒ»è³ªå•ãƒ»ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³æŠ½å‡º
- å„ªå…ˆåº¦ãƒ»æ„Ÿæƒ…ãƒ»ä¿¡é ¼åº¦è¡¨ç¤º

## âš™ï¸ è¨­å®š

### åŸºæœ¬è¨­å®š

| é …ç›® | ç’°å¢ƒå¤‰æ•° | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|------|----------|------------|------|
| APIãƒˆãƒ¼ã‚¯ãƒ³ | `CHATWORK_API_TOKEN` | - | ChatWork APIãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆå¿…é ˆï¼‰ |
| ç›£è¦–ãƒ«ãƒ¼ãƒ  | `MONITORED_ROOMS` | - | ç›£è¦–å¯¾è±¡ãƒ«ãƒ¼ãƒ IDï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰ |
| ç›£è¦–é–“éš” | `MONITORING_INTERVAL_SECONDS` | 30 | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒã‚§ãƒƒã‚¯é–“éš”ï¼ˆç§’ï¼‰ |

### ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š

| é …ç›® | ç’°å¢ƒå¤‰æ•° | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|------|----------|------------|------|
| é«˜å„ªå…ˆåº¦é–¾å€¤ | `HIGH_PRIORITY_THRESHOLD_MINUTES` | 30 | é«˜å„ªå…ˆåº¦ã‚¢ãƒ©ãƒ¼ãƒˆé–¾å€¤ï¼ˆåˆ†ï¼‰ |
| é€šå¸¸å„ªå…ˆåº¦é–¾å€¤ | `NORMAL_PRIORITY_THRESHOLD_HOURS` | 2 | é€šå¸¸å„ªå…ˆåº¦ã‚¢ãƒ©ãƒ¼ãƒˆé–¾å€¤ï¼ˆæ™‚é–“ï¼‰ |
| ä½å„ªå…ˆåº¦é–¾å€¤ | `LOW_PRIORITY_THRESHOLD_HOURS` | 24 | ä½å„ªå…ˆåº¦ã‚¢ãƒ©ãƒ¼ãƒˆé–¾å€¤ï¼ˆæ™‚é–“ï¼‰ |

### AIåˆ†æè¨­å®š

| é …ç›® | ç’°å¢ƒå¤‰æ•° | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|------|----------|------------|------|
| AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ | `AI_PROVIDER` | builtin | AIåˆ†æã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆbuiltin/openai/anthropicï¼‰ |
| OpenAI APIã‚­ãƒ¼ | `OPENAI_API_KEY` | - | OpenAI GPTä½¿ç”¨æ™‚ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ |
| Anthropic APIã‚­ãƒ¼ | `ANTHROPIC_API_KEY` | - | Claudeä½¿ç”¨æ™‚ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ |

## ğŸ”§ é–‹ç™º

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
```
chatwork-ai-manager/
â”œâ”€â”€ src/                     # Pythonã‚³ã‚¢
â”‚   â”œâ”€â”€ main.py             # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ chatwork_api.py     # ChatWork API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ task_analyzer.py    # AIåˆ†æã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”œâ”€â”€ alert_system.py     # ã‚¢ãƒ©ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ 
â”‚   â””â”€â”€ config.py           # è¨­å®šç®¡ç†
â”œâ”€â”€ web/                    # Web UI
â”‚   â””â”€â”€ api_server.py       # FastAPIã‚µãƒ¼ãƒãƒ¼
â”œâ”€â”€ static/                 # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ index.html          # ãƒ¡ã‚¤ãƒ³HTML
â”‚   â”œâ”€â”€ css/dashboard.css   # ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â””â”€â”€ js/dashboard.js     # JavaScript
â”œâ”€â”€ desktop/                # Electronã‚¢ãƒ—ãƒª
â”‚   â”œâ”€â”€ main.js             # ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹
â”‚   â”œâ”€â”€ preload.js          # ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ package.json        # ä¾å­˜é–¢ä¿‚
â””â”€â”€ tests/                  # ãƒ†ã‚¹ãƒˆ
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆè‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰ï¼‰
python -m uvicorn web.api_server:app --reload

# ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªï¼ˆé–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼‰
cd desktop && npm run dev
```

### ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
```bash
# Pythonãƒ†ã‚¹ãƒˆ
pytest tests/

# JavaScript/Electronãƒ†ã‚¹ãƒˆ
cd desktop && npm test
```

### ãƒ“ãƒ«ãƒ‰
```bash
# ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã®ãƒ“ãƒ«ãƒ‰
cd desktop
npm run build          # å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
npm run build-win      # Windows
npm run build-mac      # macOS
npm run build-linux    # Linux
```

## ğŸ“š API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹
```http
GET /api/status
```
ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼š
```json
{
  "system": {
    "is_running": true,
    "processed_messages_count": 150,
    "monitored_rooms": 3
  },
  "alerts": {
    "total": 5,
    "by_priority": {"high": 1, "normal": 3, "low": 1}
  }
}
```

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆ†æ
```http
POST /api/analyze
Content-Type: application/json

{
  "body": "æ˜æ—¥ã¾ã§ã«è³‡æ–™ã‚’ä½œæˆã—ã¦ãã ã•ã„",
  "account_name": "ç”°ä¸­å¤ªéƒ"
}
```

#### ã‚¢ãƒ©ãƒ¼ãƒˆç®¡ç†
```http
GET /api/alerts                    # ã‚¢ãƒ©ãƒ¼ãƒˆä¸€è¦§
POST /api/alerts/force-check       # å¼·åˆ¶ãƒã‚§ãƒƒã‚¯
POST /api/alerts/mark-replied      # è¿”ä¿¡æ¸ˆã¿ãƒãƒ¼ã‚¯
```

### WebSocket API

#### æ¥ç¶š
```javascript
const ws = new WebSocket('ws://localhost:8000/ws');
```

#### ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡
```javascript
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  
  switch (data.type) {
    case 'new_message':
      // æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€šçŸ¥
      break;
    case 'status_update':
      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
      break;
  }
};
```

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯[LICENSE](LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ†˜ ã‚µãƒãƒ¼ãƒˆ

- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [Wiki](https://github.com/USERNAME/chatwork-ai-manager/wiki)
- **ãƒã‚°å ±å‘Š**: [Issues](https://github.com/USERNAME/chatwork-ai-manager/issues)
- **ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³**: [Discussions](https://github.com/USERNAME/chatwork-ai-manager/discussions)

## ğŸ¯ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

- [ ] æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹ã‚ˆã‚Šé«˜åº¦ãªåˆ†æ
- [ ] Slack/Teamsç­‰ã®ä»–ãƒãƒ£ãƒƒãƒˆãƒ„ãƒ¼ãƒ«å¯¾å¿œ
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªç‰ˆ
- [ ] ãƒãƒ¼ãƒ å‘ã‘ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- [ ] ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªåˆ†æãƒ«ãƒ¼ãƒ«

---

**Made with â¤ï¸ for better team communication**